<!DOCTYPE html>
<html>
	
  <head>
  	<script src="scripts/jquery-2.1.3.min.js"></script> 	
  	<script src="scripts/p5.min.js"></script>
  	<script src="scripts/p5.dom.js"></script>
  	<script src="scripts/p5.sound.js"></script>
  	<script type="text/javascript">$('body').css('cursor', 'none');</script>
    <title>Center Stage Video</title>
    <link type="text/css" rel="stylesheet" href="style.css">
  </head>

	
<script type="text/javascript">
	console.log(localStorage.playvid);
	var fight;

	var xi, yi, z;

	function setup() {
	createCanvas(1920, 1080);
	xi = 0;
	yi = 0;
	z = 1;

	amphMask = loadImage('../videos/RAmph_Mask.png');

	small=createVideo('../videos/amphs/RAmph_Small.mov');
	small.hide();
	medium=createVideo('../videos/amphs/RAmph_Medium.mov');
	medium.hide();
	col=createVideo('../videos/amphs/RAmph_Col.mov');
	col.hide();

	diasmallg = createVideo('../videos/fights/diasmallg.mov');
	diasmallg.hide();
	diasmallb = createVideo('../videos/fights/diasmallb.mov');
	diasmallb.hide();
	diamediumg = createVideo('../videos/fights/diamediumg.mov');
	diamediumg.hide();
	diamediumb = createVideo('../videos/fights/diamediumb.mov');
	diamediumb.hide();
	diacolg = createVideo('../videos/fights/diacol.mov');
	diacolg.hide();
	diacolb = createVideo('../videos/fights/diacol.mov');
	diacolb.hide();

	secsmallg = createVideo('../videos/fights/secsmallg.mov');
	secsmallg.hide();
	secsmallb = createVideo('../videos/fights/secsmallb.mov');
	secsmallb.hide();
	secmediumg = createVideo('../videos/fights/secmediumg.mov');
	secmediumg.hide();
	secmediumb = createVideo('../videos/fights/secmediumb.mov');
	secmediumb.hide();
	seccolg = createVideo('../videos/fights/seccol.mov');
	seccolg.hide();
	seccolb = createVideo('../videos/fights/seccol.mov');
	seccolb.hide();

	hopsmallg = createVideo('../videos/fights/hopsmallg.mov');
	hopsmallg.hide();
	hopsmallb = createVideo('../videos/fights/hopsmallb.mov');
	hopsmallb.hide();
	hopmediumg = createVideo('../videos/fights/hopmediumg.mov');
	hopmediumg.hide();
	hopmediumb = createVideo('../videos/fights/hopmediumb.mov');
	hopmediumb.hide();
	hopcolg = createVideo('../videos/fights/hopcol.mov');
	hopcolg.hide();
	hopcolb = createVideo('../videos/fights/hopcol.mov');
	hopcolb.hide();

	retsmallg = createVideo('../videos/fights/retsmallg.mov');
	retsmallg.hide();
	retsmallb = createVideo('../videos/fights/retsmallb.mov');
	retsmallb.hide();
	retmediumg = createVideo('../videos/fights/retmediumg.mov');
	retmediumg.hide();
	retmediumb = createVideo('../videos/fights/retmediumb.mov');
	retmediumb.hide();
	retcolg = createVideo('../videos/fights/retcol.mov');
	retcolg.hide();
	retcolb = createVideo('../videos/fights/retcol.mov');
	retcolb.hide();
	}

	function draw() {
		background(0);
		blendMode(LIGHTEST);

		if(localStorage.playvid!="f"){
			console.log("x "+xi);
		console.log("y "+yi);
		console.log("z "+z);

			push();
			scale(z,z);
			translate(xi, yi);
			//window[] basically does same thing as eval(). It's using the local var string as a variable.
			imageMode(CORNER);
			var amphVid = window[localStorage.level];
			amphVid.play();
			image(amphVid,0+xi,0+yi);

			imageMode(CENTER);
			var video = window[localStorage.playvid];		 
			
			video.play();
			image(video,960+xi,540+yi,600,337.5); // draw the video frame to canvas
			pop();

		}else{
			background(0);
		}
	}

	function keyPressed(){
		if(keyCode == UP_ARROW){yi-=1}
			else if(keyCode == DOWN_ARROW){yi+=1}
				else if(keyCode == LEFT_ARROW){xi-=1}
					else if(keyCode == RIGHT_ARROW){xi+=1}
						else if(keyCode == SHIFT){z-=.01}
							else if(keyCode == CONTROL){z+=.01}
		return false;
	}

</script>
  <body>
  </body>
</div>
</html>